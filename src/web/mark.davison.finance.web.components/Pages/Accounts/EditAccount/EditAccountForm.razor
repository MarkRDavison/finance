@using mark.davison.finance.web.components.CommonCandidates.Components.Numeric

@inherits ComponentWithState

<MudGrid>
    <MudPaper Class="pa-4">
        <MudForm @ref="_form">
            <MudTextField T="string" Label="Name" Required="true" @bind-Text="ViewModel.Name" />
            <MudTextField T="string" Label="Account number" Required="true" @bind-Text="ViewModel.AccountNumber" />
            <MudSelect T="Guid?" Label="Account type" Required="true" @bind-Value="ViewModel.AccountTypeId">
                @foreach (var (id, text) in _accountTypes)
                {
                    <MudSelectItem Value="@id">@text</MudSelectItem>
                }
            </MudSelect>
            <MudSelect T="Guid?" Label="Currency" Required="true" @bind-Value="ViewModel.CurrencyId">
                @foreach (var (id, text) in _currencyItems)
                {
                    <MudSelectItem Value="@id">@text</MudSelectItem>
                }
            </MudSelect>
            <NumericField HideSpinButtons Label="Opening balance" @bind-Value="ViewModel.OpeningBalance" AllowNegative="false" DecimalPlaces="@ViewModel.DecimalPlaces" />
            <NumericField HideSpinButtons Label="Virtual balance" @bind-Value="ViewModel.VirtualBalance" AllowNegative="false" DecimalPlaces="@ViewModel.DecimalPlaces"/>
            <MudDatePicker Label="Opening balance date" @bind-Date="ViewModel.OpeningBalanceDate" />
        </MudForm>
    </MudPaper>
</MudGrid>